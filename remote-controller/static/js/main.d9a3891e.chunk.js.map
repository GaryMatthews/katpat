{"version":3,"sources":["assets/logo.svg","assets/dots.svg","assets/bluetooth-icon.svg","assets/coxal-pulse-scheme.svg","assets/femur-pulse-scheme.svg","assets/tibia-pulse-scheme.svg","redux/sagas/bluetooth/cordova-ble.js","redux/sagas/bluetooth/web-ble.js","redux/reducers/app.js","redux/sagas/katpat.js","redux/reducers/index.js","redux/store.js","redux/sagas/index.js","components/katpat-connector.js","components/icons.js","components/menu.js","containers/home.js","containers/play.js","containers/calibrate.js","containers/studio.js","components/layout.js","components/ble-protected-route.js","routes.js","app.js","serviceWorker.js","index.js","utils/converters.js","redux/reducers/katpat.js"],"names":["module","exports","__webpack_require__","p","r","__webpack_exports__","d","disconnect","sendCommand","createConnectionChannel","redux_reducers_katpat__WEBPACK_IMPORTED_MODULE_0__","redux_saga__WEBPACK_IMPORTED_MODULE_1__","cordova_plugin_ble_central_www_ble__WEBPACK_IMPORTED_MODULE_2__","cordova_plugin_ble_central_www_ble__WEBPACK_IMPORTED_MODULE_2___default","n","utils_converters__WEBPACK_IMPORTED_MODULE_3__","_ref","id","Promise","resolve","reject","ble","device","command","write","service","characteristic","deviceName","eventChannel","emit","timer","setTimeout","status","bleStatus","DISCONNECTED","error","connectedDevice","stringBuffer","stopNotifications","stopNotification","scan","name","clearTimeout","stopScan","console","log","CONNECTING","connect","_ref2","characteristics","CONNECTED","startNotification","buffer","strBuffer","ab2str","startsWith","substr","endsWith","slice","data","e","err","message","utils_converters__WEBPACK_IMPORTED_MODULE_2__","ref","gatt","writeValue","bleDevice","primaryCharacteristic","disconnectFunction","handleCharacteristicValueChanged","event","value","target","DataView","removeEventListener","navigator","bluetooth","requestDevice","filters","services","then","addEventListener","server","getPrimaryService","getCharacteristic","startNotifications","catch","types","SETUP_PLATFORM","initialState","platform","bleService","actions","type","payload","combineReducers","app","state","arguments","length","undefined","action","Object","objectSpread","katpat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleWare","disconnectSaga","connectSaga","sendSaga","watchConnect","watchDisconnect","watchSend","katpatSaga","regenerator_default","a","wrap","_context","prev","next","select","selectors","getDevice","sent","call","put","updateStatus","t0","stop","_marked","katpatName","channel","_context3","SCANNING","delay","getKaptpatName","takeEvery","mark","_callee","dataArr","len","_context2","split","parseInt","pop","join","send","commands","INIT","_marked2","_ref3","_context4","str2ab","concat","_marked3","_context5","CONNECT","_marked4","_context6","DISCONNECT","_marked5","_context7","SEND","_marked6","_context8","all","fork","_marked7","cordova","require","appSaga","sagas_marked","loaderStyle","width","height","borderRadius","background","display","justifyContent","alignItems","buttonStyle","color","isConnecting","isConnected","dispatch","connectKatpat","bindActionCreators","katpatActions","disconnectKatpat","props","react_default","createElement","style","flexDirection","flexGrow","Image","src","logo","dots","marginTop","marginBottom","react","Label","Button","onClick","Loader","size","active","inline","bluetoothIcon","margin","PlayIcon","_ref$color","xmlns","viewBox","fill","stroke","strokeWidth","strokeMiterlimit","cx","cy","CalibrateIcon","_ref2$color","StudioIcon","_ref3$color","LegIcon","_ref4","_ref4$selected","selected","_ref4$rotation","rotation","transform","CoxalIcon","_ref5","_ref5$selected","FemurIcon","_ref6","_ref6$selected","TibiaIcon","_ref7","_ref7$selected","iconStyle","menuStyle","maxWidth","menuItemStyle","WhiteLabel","title","HomeMenu","Menu","widths","Item","as","Link","to","icons_PlayIcon","menu_WhiteLabel","icons_CalibrateIcon","icons_StudioIcon","messageStyle","fontSize","textAlign","padding","errorMessage","className","process","katpat_connector","menu","_useState","useState","_useState2","slicedToArray","currentLeg","setCurrentLeg","moveCoxal","angle","secondary","compact","inverted","_useState3","_useState4","currentBone","setCurrentBone","_useState5","_useState6","kindPulse","setKindPulse","_useState7","_useState8","canSave","setCanSave","changeBoneFor","bone","LegMenuItem","index","minWidth","border","textTransform","whiteSpace","leg","icons_LegIcon","BoneMenuItem","BoneIcon","icon","marginRight","PulseMenuItem","selectedKindPulse","prepareCalibrationFor","coxalPulseScheme","femurPulseScheme","tibiaPulseScheme","getScheme","fluid","position","left","bottom","opacity","Studio","backButtonStyle","titleStyle","paddingRight","Layout","Component","component","Icon","rest","objectWithoutProperties","react_router","assign","render","matchProps","fontWeight","path","layout","exact","KatpatConnector","Routes","react_router_dom","basename","Home","ble_protected_route","Play","Calibrate","Device","Plugins","SplashScreen","StatusBar","store","createStore","rootReducer","applyMiddleware","runSaga","run","rootSaga","getInfo","hide","appActions","App","es","routes","Boolean","location","hostname","match","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","buf","String","fromCharCode","apply","Uint8Array","str","ArrayBuffer","bufView","i","strLen","charCodeAt","STATUS_UPDATE","katpatReducer","_Users_klem_Desktop_DIY_KatPat_katpat_katpat_remote_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","getStatus"],"mappings":"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","file":"static/js/main.d9a3891e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.55a7e322.svg\";","module.exports = __webpack_public_path__ + \"static/media/dots.269586e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/bluetooth-icon.da0085d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/coxal-pulse-scheme.3bf6add8.svg\";","module.exports = __webpack_public_path__ + \"static/media/femur-pulse-scheme.e8cb12f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/tibia-pulse-scheme.07ab316f.svg\";","import { bleStatus } from 'redux/reducers/katpat'\nimport { eventChannel } from 'redux-saga'\nimport ble from 'cordova-plugin-ble-central/www/ble'\nimport { ab2str } from 'utils/converters'\n\nexport const disconnect = ({ id }) => {\n  return new Promise((resolve, reject) => {\n    ble.disconnect(id, resolve, reject)\n  })\n}\n\nexport const sendCommand = (device, command) => {\n  return new Promise((resolve, reject) => {\n    ble.write(device.id, device.service, device.characteristic, command, resolve, reject)\n  })\n}\n\nexport const createConnectionChannel = (deviceName) => {\n  return eventChannel(emit => {\n    let timer = setTimeout(() => {\n      emit({status: bleStatus.DISCONNECTED, error: 'Connection timeout. Check the power of your bot and retry!'})\n    }, 5500)\n    let connectedDevice = null\n    let stringBuffer = null\n\n    const stopNotifications = () => {\n      if (connectedDevice) {\n        ble.stopNotification(connectedDevice.id, connectedDevice.service, connectedDevice.characteristic)\n      }\n    }\n\n    ble.scan([], 5, (device) => {\n      if (device.name === deviceName) {\n        clearTimeout(timer)\n        ble.stopScan(() => {\n          console.log('scan stopped!')\n        }, () => {\n          console.log('scan failed to stop :(')\n        })\n        emit({status: bleStatus.CONNECTING})\n        ble.connect(device.id, ({characteristics}) => {\n          connectedDevice = {\n            id: device.id,\n            service: characteristics[0].service,\n            characteristic: characteristics[0].characteristic\n          }\n          emit({\n            status: bleStatus.CONNECTED,\n            device: connectedDevice\n          })\n          ble.startNotification(device.id, connectedDevice.service, connectedDevice.characteristic, (buffer) => {\n            let strBuffer = ab2str(buffer)\n            if (strBuffer.startsWith('START')) {\n              stringBuffer = strBuffer.substr(5)\n            } else if (stringBuffer) {\n              stringBuffer += strBuffer\n            }\n            if (stringBuffer && stringBuffer.endsWith('DONE')) {\n              stringBuffer = stringBuffer.slice(0, -4)\n              emit({data: stringBuffer})\n              stringBuffer = null\n            }\n          }, (e) => {\n            console.log(e)\n          });\n        }, (err) => {\n          console.log(err)\n          stopNotifications()\n          emit({status: bleStatus.DISCONNECTED, error: err.message})\n        })\n      }\n    }, (err) => {\n      console.log(err)\n      clearTimeout(timer)\n      stopNotifications()\n      emit({status: bleStatus.DISCONNECTED, error: err.message})\n    })\n    // The subscriber must return an unsubscribe function. We'll\n    // just return no op for this example.\n    return () => {\n      // Cleanup event listeners. Clear timers etc...\n      stopNotifications()\n    }\n  })\n}","import { bleStatus } from 'redux/reducers/katpat'\nimport { eventChannel } from 'redux-saga'\nimport { ab2str } from 'utils/converters'\n\nexport const disconnect = ({ ref }) => {\n  return new Promise((resolve) => {\n    ref.gatt.disconnect()\n    resolve()\n  })\n}\n\nexport const sendCommand = ({ characteristic }, command) => {\n  return characteristic.writeValue(command)\n}\n\nexport const createConnectionChannel = (deviceName) => {\n  return eventChannel(emit => {\n    let bleDevice = null\n    let primaryCharacteristic = null\n    let stringBuffer = null\n    \n    const disconnectFunction = () => {\n      emit({status: bleStatus.DISCONNECTED})\n    }\n\n    const handleCharacteristicValueChanged = (event) => {\n      let value = event.target.value;\n      // In Chrome 50+, a DataView is returned instead of an ArrayBuffer.\n      value = value.buffer ? value : new DataView(value)\n      let strBuffer = ab2str(value.buffer)\n      if (strBuffer.startsWith('START')) {\n        stringBuffer = strBuffer.substr(5)\n      } else if (stringBuffer) {\n        stringBuffer += strBuffer\n      }\n      if (stringBuffer && stringBuffer.endsWith('DONE')) {\n        stringBuffer = stringBuffer.slice(0, -4)\n        emit({data: stringBuffer})\n        stringBuffer = null\n      }\n    }\n\n    const stopNotifications = () => {\n      if (primaryCharacteristic) {\n        primaryCharacteristic.stopNotifications()\n        primaryCharacteristic.removeEventListener('characteristicvaluechanged', handleCharacteristicValueChanged)\n        primaryCharacteristic = null\n      }\n    }\n\n    navigator.bluetooth.requestDevice({\n      filters: [{\n        services: [0xFFE0] //'0000ffe0-0000-1000-8000-00805f9b34fb'\n      }]\n    })\n    .then(device => {\n      bleDevice = device\n      emit({status: bleStatus.CONNECTING})\n      device.addEventListener('gattserverdisconnected', disconnectFunction)\n      return device.gatt.connect()\n    })\n    .then(server => {\n      return server.getPrimaryService(0xFFE0);\n    })\n    .then(service => {\n      return service.getCharacteristic(0xFFE1);\n    })\n    .then(characteristic => {\n      emit({\n        status: bleStatus.CONNECTED,\n        device: {\n          ref: bleDevice,\n          characteristic: characteristic\n        }\n      })\n      return characteristic.startNotifications()\n    })\n    .then(characteristic => {\n      primaryCharacteristic = characteristic\n      primaryCharacteristic.addEventListener('characteristicvaluechanged', handleCharacteristicValueChanged)\n    })\n    .catch(err => {\n      stopNotifications()\n      emit({status: bleStatus.DISCONNECTED, error: err.message})\n    })\n\n    return () => {\n      stopNotifications()\n      if (bleDevice) {\n        bleDevice.removeEventListener('gattserverdisconnected', disconnectFunction)\n      }\n    }\n  })\n}","export const types = {\n  SETUP_PLATFORM: 'katpat/app/SETUP_PLATFORM'\n}\n\nconst initialState = {\n  platform: null\n}\n\nexport default function appReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case types.SETUP_PLATFORM: {\n      return {\n        ...state,\n        platform: action.payload\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport const actions = {\n  setupPlatform: (platform) => ({type: types.SETUP_PLATFORM, payload: platform})\n}\n\nexport const selectors = {\n  getPlatform: (state) => state.app.platform,\n  isWebApp: (state) => state.app.platform === 'web'\n}","import { all, call, put, takeEvery, select, fork, delay } from 'redux-saga/effects'\nimport { actions, types, selectors, bleStatus, commands } from 'redux/reducers/katpat'\nimport { str2ab } from 'utils/converters'\n\nlet bleService\nif (window.cordova) {\n  bleService = require('./bluetooth/cordova-ble')\n} else {\n  bleService = require('./bluetooth/web-ble')\n}\n\nexport function *disconnectSaga() {\n  const device = yield select(selectors.getDevice)\n  try {\n    yield call(bleService.disconnect, device)\n    yield put(actions.updateStatus(bleStatus.DISCONNECTED))\n  } catch (e) {\n    console.log(e)\n    console.log('cannot disconnect from katpat :(')\n  }\n}\n\nexport function *connectSaga({ id }) {\n  yield put(actions.updateStatus(bleStatus.SCANNING))\n  yield delay(100)\n  const katpatName = yield select(selectors.getKaptpatName)\n  const channel = yield call(bleService.createConnectionChannel, katpatName)\n  try {\n    yield takeEvery(channel, function*({ data, status, device, error }) {\n      if (data) {\n        // received data\n        console.log(data)\n        let dataArr = data.split(';')\n        let len = parseInt(dataArr.pop(), 10) - 1\n        if (dataArr.join(';').length === len) {\n          console.log('integrity check OK')\n        }\n      } else {\n        // connection status update\n        yield put(actions.updateStatus(status, device, error))\n        if (status === bleStatus.CONNECTED && device) {\n          yield put(actions.send(commands.INIT))\n        }\n      }\n    })\n  } catch (e) {\n    console.log(e)\n    yield put(actions.updateStatus(bleStatus.DISCONNECTED, null, e.message))\n  }\n}\n\nexport function *sendSaga({ payload }) {\n  console.log('send: ', payload)\n  const device = yield select(selectors.getDevice)\n  if (device) {\n    yield call(bleService.sendCommand, device, str2ab(`/${payload}/`))\n  }\n}\n\nexport function *watchConnect() {\n  yield takeEvery(types.CONNECT, connectSaga)\n}\n\nexport function *watchDisconnect() {\n  yield takeEvery(types.DISCONNECT, disconnectSaga)\n}\n\nexport function *watchSend() {\n  yield takeEvery(types.SEND, sendSaga)\n}\n\n/**\n* Katpat BLE saga\n*/\nexport function *katpatSaga() {\n  yield all([\n    fork(watchConnect),\n    fork(watchDisconnect),\n    fork(watchSend)\n  ])\n}","import { combineReducers } from 'redux'\nimport app from './app'\nimport katpat from './katpat'\n\nexport default combineReducers({\n  app,\n  katpat\n})","import {createStore, applyMiddleware, compose} from 'redux'\nimport createSagaMiddleWare from 'redux-saga'\nimport rootReducer from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst sagaMiddleware = createSagaMiddleWare()\n\nexport default () => {\n  return {\n    ...createStore(rootReducer, composeEnhancers(applyMiddleware(sagaMiddleware))),\n    runSaga: sagaMiddleware.run\n  }\n}","import { all, fork } from 'redux-saga/effects'\nimport { katpatSaga } from './katpat'\n\nfunction *appSaga() {\n  yield all([\n    fork(katpatSaga),\n  ])\n}\n\nexport default appSaga","import React, { Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { actions as katpatActions, bleStatus } from 'redux/reducers/katpat'\nimport { Image, Label, Button, Loader } from 'semantic-ui-react'\nimport logo from 'assets/logo.svg'\nimport dots from 'assets/dots.svg'\nimport bluetoothIcon from 'assets/bluetooth-icon.svg'\n\nconst loaderStyle = {\n  width: '8em',\n  height: '8em',\n  borderRadius: '2em',\n  background: '#e3eac5',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}\n\nconst buttonStyle = {\n  background: '#93d12f',\n  width: '8em',\n  height: '8em',\n  borderRadius: '2em',\n  color: 'white'\n}\n\nconst KatpatConnector = (props) => (\n  <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', flexGrow: 1, justifyContent: 'center' }}>\n    <Image src={ logo } style={{ width: '10em' }} />\n    <Image src={ dots } style={{ width: '.5em', marginTop: '-1em', marginBottom: '1em' }} />\n    { props.isConnected && (\n      <Fragment>\n        <Label>CONNECTED</Label>\n        <Button onClick={ props.disconnectKatpat }>DISCONNECT</Button>\n      </Fragment>\n    )}\n    { props.isConnecting && (\n      <div style={ loaderStyle }>\n        <Loader size='large' active inline />\n      </div>\n    )}\n    { !props.isConnected && !props.isConnecting && (\n      <Button onClick={ props.connectKatpat } style={ buttonStyle }>\n        <Image size='mini' src={bluetoothIcon} style={{ margin: '1em auto' }} />\n        <div>CONNECT</div>\n      </Button>\n    )}\n  </div>\n)\n\nconst mapStateToProps = ({ katpat }) => ({\n  isConnecting: !katpat.device && katpat.status !== bleStatus.DISCONNECTED,\n  isConnected: katpat.device !== null,\n  status: katpat.status\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  connectKatpat: bindActionCreators(katpatActions.connect, dispatch),\n  disconnectKatpat: bindActionCreators(katpatActions.disconnect, dispatch)\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(KatpatConnector)","import React from 'react'\n\nexport const PlayIcon = ({color = '#fff'}) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 60.861 60.861\">\n    <circle fill=\"none\" stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\" cx=\"30.43\" cy=\"30.43\" r=\"26.248\"/>\n    <path fill=\"none\" stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\" d=\"M26.946 19.809l10.619 10.62-10.619 10.622\"/>\n  </svg>\n)\n\nexport const CalibrateIcon = ({color = '#fff'}) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 60.861 60.861\">\n    <g fill={ color } stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\">\n      <path d=\"M30.431 0v15.034M30.431 45.827v15.034\"/>\n    </g>\n    <circle fill=\"none\" stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\" cx=\"30.436\" cy=\"30.431\" r=\"18.427\"/>\n    <g fill={ color } stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\">\n      <path d=\"M60.861 30.431H45.827M15.034 30.431H0\"/>\n    </g>\n    <circle fill={ color } cx=\"30.436\" cy=\"30.431\" r=\"5.995\"/>\n  </svg>\n)\n\nexport const StudioIcon = ({color = '#fff'}) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 60.861 60.861\">\n    <circle fill={ color } cx=\"6.694\" cy=\"17.552\" r=\"4.929\"/>\n    <circle fill={ color } cx=\"24.65\" cy=\"43.309\" r=\"4.929\"/>\n    <circle fill={ color } cx=\"33.016\" cy=\"17.646\" r=\"4.929\"/>\n    <circle fill={ color } cx=\"54.167\" cy=\"25.543\" r=\"4.929\"/>\n    <path fill=\"none\" stroke={ color } strokeWidth=\"6\" strokeMiterlimit=\"10\" d=\"M10.25 22.546l10.811 15.512M31.104 23.564l-3.667 13.481M48.606 23.018L39.05 19.34\"/>\n  </svg>\n)\n\nexport const LegIcon = ({ selected = false, rotation = 0 }) => {\n  const color = selected ? '#93d12f' : '#4d4d4d'\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 42.007 42.007\">\n      <g transform={`rotate(${rotation}, 21, 21)`}>\n        <path fill=\"#FFF\" d=\"M12.274 11.283h23.783v23.785H12.274zM42.007 20.878L40.979 8.776h-5.785z\"/>\n        <path fill=\"#FFF\" d=\"M36.526 18.716a1.925 1.925 0 0 1-2.59.834l-4.402-2.256a1.923 1.923 0 0 1-.832-2.59l4.494-8.768a1.925 1.925 0 0 1 2.59-.835l4.4 2.257a1.925 1.925 0 0 1 .834 2.59l-4.494 8.768z\"/>\n        <path fill={ color } d=\"M6.425 20.878L7.452 8.776h5.785z\"/>\n        <path fill={ color } d=\"M11.905 18.716a1.925 1.925 0 0 0 2.59.834l4.4-2.256a1.924 1.924 0 0 0 .836-2.59l-4.496-8.768a1.925 1.925 0 0 0-2.59-.835l-4.4 2.257a1.923 1.923 0 0 0-.834 2.59l4.494 8.768z\"/>\n        <path fill=\"#FFF\" d=\"M6.425 25.406l1.027 12.102h5.785z\"/>\n        <path fill=\"#FFF\" d=\"M11.905 27.568a1.925 1.925 0 0 1 2.59-.835l4.4 2.256a1.926 1.926 0 0 1 .836 2.591l-4.496 8.768a1.923 1.923 0 0 1-2.59.834l-4.4-2.256a1.924 1.924 0 0 1-.834-2.59l4.494-8.768zM42.007 25.406l-1.028 12.102h-5.785z\"/>\n        <path fill=\"#FFF\" d=\"M36.526 27.568a1.925 1.925 0 0 0-2.59-.835l-4.402 2.256a1.924 1.924 0 0 0-.832 2.591l4.494 8.768a1.923 1.923 0 0 0 2.59.834l4.4-2.256a1.925 1.925 0 0 0 .834-2.59l-4.494-8.768z\"/>\n        <path fill={ color } d=\"M12.931 26.474C5.8 26.474 0 20.673 0 13.543S5.8.612 12.931.612s12.93 5.801 12.93 12.931-5.799 12.931-12.93 12.931zm0-23.614C7.04 2.86 2.248 7.653 2.248 13.543c0 5.891 4.792 10.683 10.683 10.683s10.682-4.792 10.682-10.683C23.612 7.653 18.821 2.86 12.931 2.86z\"/>\n      </g>\n    </svg>\n  )\n}\n\nexport const CoxalIcon = ({ selected = false }) => {\n  const color = selected ? '#93d12f' : '#4d4d4d'\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 53.838 41.743\">\n      <path fill=\"#FFF\" d=\"M36.505 31.185a2.56 2.56 0 0 1-2.559 2.559H17.938a2.56 2.56 0 0 1-2.559-2.559v-9.327a2.56 2.56 0 0 1 2.559-2.56h16.009a2.56 2.56 0 0 1 2.559 2.56v9.327z\"/>\n      <path fill=\"#FFF\" d=\"M35.96 25.828c-.759 1.275-2.358 1.724-3.573 1.001l-3.98-2.368c-1.215-.722-1.585-2.342-.826-3.616l10.836-18.22c.759-1.275 2.358-1.723 3.573-1.001l3.98 2.368c1.215.722 1.585 2.343.826 3.616L35.96 25.828z\"/>\n      <path fill=\"#FFF\" d=\"M53.049 28.289a1.013 1.013 0 0 1-1.109-.495c-.041-.074-4.229-7.571-7.656-11.937-3.305-4.214-8.491-6.22-8.544-6.24a1.014 1.014 0 0 1-.209-1.784c.118-.081 2.95-1.992 5.913-2.67 1.902-.434 3.478-.271 4.679.484 1.02.642 2.679 2.557 5.285 11.752a167.367 167.367 0 0 1 2.408 9.69 1.013 1.013 0 0 1-.767 1.2z\"/>\n      <path fill={ color } d=\"M19.857 28.695l-2.283-1.288a4.387 4.387 0 0 0 0-1.686l2.283-1.287-1.576-2.667-2.282 1.288a4.962 4.962 0 0 0-1.529-.842v-2.577h-3.079v2.577a4.927 4.927 0 0 0-1.529.842l-2.283-1.288-1.576 2.667 2.283 1.287a4.387 4.387 0 0 0 0 1.686l-2.283 1.288 1.576 2.667 2.283-1.289c.455.369.973.654 1.529.842v2.577h3.079v-2.577a4.95 4.95 0 0 0 1.529-.842l2.282 1.289 1.576-2.667zm-6.927.178a2.309 2.309 0 1 1 0-4.617 2.309 2.309 0 0 1 0 4.617z\"/>\n      <path fill={ color } d=\"M12.931 39.495C5.8 39.495 0 33.694 0 26.564s5.8-12.931 12.931-12.931 12.93 5.801 12.93 12.931-5.799 12.931-12.93 12.931zm0-23.613c-5.891 0-10.683 4.793-10.683 10.683 0 5.891 4.792 10.683 10.683 10.683s10.682-4.792 10.682-10.683c-.001-5.89-4.792-10.683-10.682-10.683z\"/>\n    </svg>\n  )\n}\n\nexport const FemurIcon = ({ selected = false }) => {\n  const color = selected ? '#93d12f' : '#4d4d4d'\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 53.838 41.743\">\n      <path fill=\"#FFF\" d=\"M28.93 32.185a2.56 2.56 0 0 1-2.559 2.559H10.362a2.56 2.56 0 0 1-2.559-2.559v-9.327a2.56 2.56 0 0 1 2.559-2.56h16.009a2.56 2.56 0 0 1 2.559 2.56v9.327z\"/>\n      <path fill=\"#FFF\" d=\"M28.385 26.828c-.759 1.275-2.358 1.724-3.573 1.001l-3.98-2.368c-1.215-.722-1.585-2.342-.826-3.616l10.836-18.22c.759-1.275 2.358-1.723 3.573-1.001l3.98 2.368c1.215.722 1.585 2.343.826 3.616l-10.836 18.22z\"/>\n      <path fill=\"#FFF\" d=\"M45.474 29.289a1.013 1.013 0 0 1-1.109-.495c-.041-.074-4.229-7.571-7.656-11.937-3.305-4.214-8.491-6.22-8.544-6.24a1.014 1.014 0 0 1-.209-1.784c.118-.081 2.95-1.992 5.913-2.67 1.902-.434 3.478-.271 4.679.484 1.02.642 2.679 2.557 5.285 11.752a167.367 167.367 0 0 1 2.408 9.69 1.013 1.013 0 0 1-.767 1.2z\"/>\n      <path fill={ color } d=\"M35.732 29.062l-2.283-1.288a4.387 4.387 0 0 0 0-1.686l2.283-1.287-1.576-2.667-2.282 1.288a4.962 4.962 0 0 0-1.529-.842v-2.577h-3.079v2.577a4.927 4.927 0 0 0-1.529.842l-2.283-1.288-1.576 2.667 2.283 1.287a4.387 4.387 0 0 0 0 1.686l-2.283 1.288 1.576 2.667 2.283-1.289c.455.369.973.654 1.529.842v2.577h3.079v-2.577a4.95 4.95 0 0 0 1.529-.842l2.282 1.289 1.576-2.667zm-6.927.178a2.309 2.309 0 1 1 0-4.617 2.309 2.309 0 0 1 0 4.617z\"/>\n      <path fill={ color } d=\"M28.806 39.862c-7.131 0-12.931-5.801-12.931-12.931S21.675 14 28.806 14s12.93 5.801 12.93 12.931-5.799 12.931-12.93 12.931zm0-23.613c-5.891 0-10.683 4.793-10.683 10.683 0 5.891 4.792 10.683 10.683 10.683s10.682-4.792 10.682-10.683c-.001-5.89-4.792-10.683-10.682-10.683z\"/>\n    </svg>\n  )\n}\n\nexport const TibiaIcon = ({ selected = false }) => {\n  const color = selected ? '#93d12f' : '#4d4d4d'\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 53.838 41.743\">\n      <path fill=\"#FFF\" d=\"M27.578 39.185a2.559 2.559 0 0 1-2.558 2.559H9.011a2.56 2.56 0 0 1-2.559-2.559v-9.327a2.56 2.56 0 0 1 2.559-2.56H25.02a2.559 2.559 0 0 1 2.558 2.56v9.327z\"/>\n      <path fill=\"#FFF\" d=\"M27.033 33.828c-.758 1.275-2.358 1.724-3.573 1.001l-3.98-2.368c-1.215-.722-1.585-2.342-.826-3.616l10.836-18.22c.758-1.275 2.357-1.723 3.572-1.001l3.98 2.368c1.215.722 1.586 2.343.826 3.616l-10.835 18.22z\"/>\n      <path fill=\"#FFF\" d=\"M44.123 36.289a1.013 1.013 0 0 1-1.109-.495c-.041-.074-4.23-7.571-7.656-11.937-3.305-4.214-8.492-6.22-8.544-6.24a1.014 1.014 0 0 1-.209-1.784c.118-.081 2.951-1.992 5.914-2.67 1.902-.434 3.477-.271 4.678.484 1.02.642 2.68 2.557 5.285 11.752 1.395 4.918 2.4 9.645 2.408 9.69a1.013 1.013 0 0 1-.767 1.2z\"/>\n      <path fill={ color } d=\"M41.383 15.062L39.1 13.773a4.387 4.387 0 0 0 0-1.686l2.283-1.287-1.576-2.667-2.283 1.288a4.939 4.939 0 0 0-1.529-.842V6.003h-3.078V8.58a4.927 4.927 0 0 0-1.529.842l-2.283-1.288-1.576 2.667 2.283 1.287a4.387 4.387 0 0 0 0 1.686l-2.283 1.288 1.576 2.667 2.283-1.289c.455.369.973.654 1.529.842v2.577h3.078v-2.577a4.927 4.927 0 0 0 1.529-.842l2.283 1.289 1.576-2.667zm-6.928.177a2.309 2.309 0 1 1 0-4.617 2.309 2.309 0 0 1 0 4.617z\"/>\n      <path fill={ color } d=\"M34.455 25.861c-7.131 0-12.93-5.801-12.93-12.931S27.324 0 34.455 0s12.93 5.801 12.93 12.931-5.799 12.93-12.93 12.93zm0-23.613c-5.891 0-10.682 4.793-10.682 10.683 0 5.891 4.792 10.683 10.682 10.683s10.682-4.792 10.682-10.683c0-5.89-4.791-10.683-10.682-10.683z\"/>\n    </svg>\n  )\n}","import React  from 'react'\nimport { Link } from 'react-router-dom'\nimport { Menu } from 'semantic-ui-react'\n\nimport { PlayIcon, CalibrateIcon, StudioIcon } from './icons'\n\nconst iconStyle = {\n  margin: '1em',\n  width: '3em'\n}\n\nconst menuStyle = {\n  width: '100vw',\n  maxWidth: 700,\n  background: '#93d12f',\n  borderRadius: 0\n}\n\nconst menuItemStyle = {\n  display: 'flex',\n  alignItems: 'center', \n  justifyContent: 'center',\n  flexDirection: 'column'\n}\n\nconst WhiteLabel = ({title}) => (\n  <span style={{ color: 'white' }}>{ title }</span>\n)\n\nconst HomeMenu = () => (\n  <Menu style={ menuStyle } widths={3}>\n    <Menu.Item as={Link} to=\"/play\" style={ menuItemStyle }>\n      <div style={ iconStyle }><PlayIcon /></div>\n      <WhiteLabel title='PLAY' />\n    </Menu.Item>\n\n    <Menu.Item as={Link} to=\"/calibrate\" style={ menuItemStyle }>\n      <div style={ iconStyle }><CalibrateIcon /></div>\n      <WhiteLabel title='CALIBRATE' />\n    </Menu.Item>\n\n    <Menu.Item as={Link} to=\"/studio\" style={ menuItemStyle }>\n      <div style={ iconStyle }><StudioIcon /></div>\n      <WhiteLabel title='STUDIO' />\n    </Menu.Item>      \n  </Menu>\n)\n\nexport default HomeMenu","import React from 'react'\nimport { connect } from 'react-redux'\nimport KatpatConnector from 'components/katpat-connector'\nimport Menu from 'components/menu'\n\nconst messageStyle = {\n  width: '100vw',\n  maxWidth: 700,\n  background: '#93d12f',\n  height: '5em',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  color: 'white',\n  fontSize: '1.4em',\n  textAlign: 'center',\n  padding: '.5em'\n}\n\nconst Home = ({ isConnected, errorMessage }) => (\n  <div className='default-layout'>\n    <div style={{ color: '#5b7224', height: '3em' }}>@kaelhem/ KatPat-Remote v{ process.env.REACT_APP_VERSION } / ©2019</div>\n    <KatpatConnector />\n    { isConnected ? (\n      <Menu />\n    ) : (\n      <div style={ messageStyle }>\n        { errorMessage ? (\n          <span>{ errorMessage }</span>\n        ) : (\n          <span>Connect your <b>KatPat</b> bot to get started!</span>\n        ) }\n      </div>\n    )}\n  </div>\n)\n\nconst mapStateToProps = ({ katpat }) => ({\n  isConnected: katpat.device !== null,\n  errorMessage: katpat.error\n})\n\nexport default connect(mapStateToProps)(Home)","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { actions as katpatActions } from 'redux/reducers/katpat'\nimport { Menu, Button } from 'semantic-ui-react'\n\nconst Play = (props) => {\n\n  const [currentLeg, setCurrentLeg] = useState(-1)\n\n  const moveCoxal = (angle) => {\n    props.send('MOVE' + currentLeg + '0' + angle)\n  }\n\n  const load = () => {\n    props.send('LOAD')\n  }\n\n  return (\n    <div>\n      <div>\n        <Button onClick={ load }>LOAD</Button>\n        <Menu secondary compact color=\"green\" inverted>\n          <Menu.Item\n            name='Front Left'\n            active={currentLeg === 0}\n            onClick={ () => setCurrentLeg(0) }\n          />\n          <Menu.Item\n            name='Front Right'\n            active={currentLeg === 1}\n            onClick={ () => setCurrentLeg(1) }\n          />\n          <Menu.Item\n            name='Back Right'\n            active={currentLeg === 2}\n            onClick={ () => setCurrentLeg(2) }\n          />\n          <Menu.Item\n            name='Back Left'\n            active={currentLeg === 3}\n            onClick={ () => setCurrentLeg(3) }\n          />\n        </Menu>\n      </div>\n      { currentLeg !== -1 && (\n        <div>\n          <Button onClick={ () => moveCoxal(0) }>move coxal to 0°</Button>\n          <Button onClick={ () => moveCoxal(45) }>move coxal to 45°</Button>\n          <Button onClick={ () => moveCoxal(90) }>move coxal to 90°</Button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ katpat }) => ({})\n\nconst mapDispatchToProps = (dispatch) => ({\n  send: bindActionCreators(katpatActions.send, dispatch)\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Play)","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { actions as katpatActions } from 'redux/reducers/katpat'\nimport { Button, Menu, Image } from 'semantic-ui-react'\nimport { LegIcon, CoxalIcon, FemurIcon, TibiaIcon } from 'components/icons'\nimport coxalPulseScheme from 'assets/coxal-pulse-scheme.svg'\nimport femurPulseScheme from 'assets/femur-pulse-scheme.svg'\nimport tibiaPulseScheme from 'assets/tibia-pulse-scheme.svg'\n\nconst PULSE_OFFSET_LENGTH = '10'\n\nconst Calibrate = (props) => {\n\n  const [currentLeg, setCurrentLeg] = useState(-1)\n  const [currentBone, setCurrentBone] = useState(-1)\n  const [kindPulse, setKindPulse] = useState(-1)\n  const [canSave, setCanSave] = useState(false)\n\n  const changeLegFor = (leg) => {\n    changeBoneFor(-1)\n    setCurrentLeg(leg)\n  }\n\n  const changeBoneFor = (bone) => {\n    setKindPulse(-1)\n    setCurrentBone(bone)\n  }\n\n  const prepareCalibrationFor = (selectedKindPulse) => {\n    const command = selectedKindPulse === 0 ? 'GOMIN' : 'GOMAX'\n    props.send(command + currentLeg + currentBone)\n    setKindPulse(selectedKindPulse)\n  }\n\n  const decreasePulse = () => {\n    props.send('CALI' + currentLeg + currentBone + kindPulse + '0' + PULSE_OFFSET_LENGTH)\n    setCanSave(true)\n  }\n\n  const increasePulse = () => {\n    props.send('CALI' + currentLeg + currentBone + kindPulse + '1' + PULSE_OFFSET_LENGTH)\n    setCanSave(true)\n  }\n\n  const saveCalibration = () => {\n    props.send('SAVE')\n    setCanSave(false)\n  }\n\n  const getScheme = () => {\n    switch (currentBone) {\n      case 0: return coxalPulseScheme\n      case 1: return femurPulseScheme\n      case 2: return tibiaPulseScheme\n      default: return null\n    }\n  }\n\n  const buttonStyle = {\n    background: '#93d12f',\n    borderRadius: '.2em',\n    color: 'white',\n    fontSize: '2.5em',\n    padding: '.5em',\n    margin: '.5em 1em',\n    width: '2em'\n  }\n\n  const saveButtonStyle = {\n    background: '#93d12f',\n    borderRadius: '1em 1em 0 0',\n    color: 'white',\n    padding: '1.5em 3em'\n  }\n\n  const LegMenuItem = ({ name, index }) => {\n    return (\n      <Menu.Item\n        style={{ \n          background: currentLeg === index ? '#4D4D4D' : '#93d12f',\n          color: 'white',\n          borderRadius: 0,\n          padding: '.5em 0',\n          marginTop: '1em',\n          minWidth: '5.2em',\n          border: '1px solid white',\n          textTransform: 'uppercase',\n          whiteSpace: 'nowrap'\n        }}\n        active={currentLeg === index}\n        onClick={ () => changeLegFor(index) }\n      >\n        <span style={{ fontSize: '.8em' }}>{ name }</span>\n        <div style={{ margin: '.5em 0', width: '2.5em' }}>\n          <LegIcon selected={currentLeg === index} rotation={ 90 * index } />\n        </div>\n      </Menu.Item>\n    )\n  }\n\n  const BoneMenuItem = ({ name, index, icon: BoneIcon }) => {\n    return (\n      <Menu.Item\n        style={{ \n          background: currentBone === index ? '#4D4D4D' : '#93d12f',\n          color: 'white',\n          borderRadius: 0,\n          padding: '.3em',\n          marginTop: '.8em',\n          marginRight: '.2em',\n          minWidth: '5.2em',\n          border: '1px solid white',\n          textTransform: 'uppercase'\n        }}\n        active={currentBone === index}\n        onClick={ () => changeBoneFor(index) }\n      >\n        <div style={{ margin: '.5em .3em', width: '3em' }}>\n          <BoneIcon selected={currentBone === index} />\n        </div>\n        <span style={{ fontSize: '.9em', textAlign: 'center' }}>{ name }</span>\n      </Menu.Item>\n    )\n  }\n\n  const PulseMenuItem = ({ name, index }) => (\n    <Menu.Item\n      style={{ \n          background: kindPulse === index ? '#4D4D4D' : '#93d12f',\n          color: 'white',\n          borderRadius: 0,\n          padding: '1em',\n          marginTop: '.8em',\n          marginRight: '.2em',\n          minWidth: '5.2em',\n          border: '1px solid white',\n          textTransform: 'uppercase'\n        }}\n      name={ name }\n      onClick={ () => prepareCalibrationFor(index) }\n    />\n  )\n\n  return (\n    <div>\n      <div>\n        <Menu secondary icon='labeled' widths={4} style={{ width: '98vw', maxWidth: 700 }}>\n          <LegMenuItem name='Front Left' index={0} />\n          <LegMenuItem name='Front Right' index={1} />\n          <LegMenuItem name='Back Right' index={2} />\n          <LegMenuItem name='Back Left' index={3} />\n        </Menu>\n      </div>\n      { currentLeg !== -1 && (\n        <div>\n          <Menu secondary widths={3}>\n            <BoneMenuItem name='Coxal' index={0} icon={ CoxalIcon } />\n            <BoneMenuItem name='Femur' index={1} icon={ FemurIcon } />\n            <BoneMenuItem name='Tibia' index={2} icon={ TibiaIcon } />\n          </Menu>\n        </div>  \n      )}\n      { currentBone !== -1 && (\n        <div>\n          <Menu secondary color=\"grey\" widths={2}>\n            <PulseMenuItem name='Min pulse' index={0} />\n            <PulseMenuItem name='Max pulse' index={1} />\n          </Menu>\n          <Image src={ getScheme() } fluid style={{ width: '90%', maxWidth: 500, margin: 'auto' }} />\n        </div>\n      )}\n      { kindPulse !== -1 && (\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'center', margin: '.5em' }}>\n          <Button style={ buttonStyle } onClick={ decreasePulse }>-</Button>\n          <Button style={ buttonStyle } onClick={ increasePulse }>+</Button>\n        </div>\n      )}\n      <div style={{ position: 'fixed', left: 0, bottom: 0, width: '100vw', textAlign: 'center' }}>\n        <Button style={{ ...saveButtonStyle, opacity: canSave ? 1 : .5 }} onClick={ saveCalibration }>SAVE</Button>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ katpat }) => ({})\n\nconst mapDispatchToProps = (dispatch) => ({\n  send: bindActionCreators(katpatActions.send, dispatch)\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Calibrate)","import React from 'react'\nimport { Label } from 'semantic-ui-react'\n\nconst Studio = () => (\n  <div>\n    <Label>TODO: Studio</Label>\n  </div>\n)\n\nexport default Studio","import React  from 'react'\nimport { Route, Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nconst backButtonStyle = {\n  background: '#93d12f',\n  color: 'white',\n  borderRadius: 0,\n  border: 'none',\n  height: '3em',\n  width: '3em',\n  display: 'flex',\n  alignItems: 'center',\n  margin: 0\n}\n\nconst titleStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  flexGrow: 1,\n  background: '#e3eac5',\n  color: '#4d4d4d',\n  textAlign: 'center',\n  height: '3em',\n  paddingRight: '3em'\n}\n\nconst Layout = ({component: Component, icon: Icon, title, ...rest}) => {\n  return (\n    <Route {...rest} render={matchProps => (\n      <div className='default-layout'>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100vw' }}>  \n          <Button icon='chevron left' as={ Link } to=\"/home\" style={ backButtonStyle } />\n          <div style={ titleStyle }>\n            <div style={{ width: '2em', height: '2em', marginRight: '.5em' }}><Icon color='#4d4d4d' /></div>\n            <span style={{ fontSize: '1.6em', fontWeight: 'bold' }}>{ title }</span>\n          </div>\n        </div>\n        <Component {...matchProps} />\n        <div style={{ height: '8em' }}></div>\n      </div>\n    )} />\n  )\n};\nexport default Layout","import React from 'react'\nimport { connect } from 'react-redux'\nimport Layout from './layout.js'\nimport KatpatConnector from './katpat-connector'\n\nconst BleProtectedRoute = (props) => {\n  const { component, icon, path, title, isConnected } = props\n  if (!isConnected) {\n    return (\n      <Layout exact path={ path } title={ title } component={ KatpatConnector } icon={ icon } />\n    )\n  }\n  return (\n    <Layout exact path={ path } title={ title } component={ component } icon={ icon } />\n  )\n}\n\nconst mapStateToProps = ({ katpat }) => ({\n  isConnected: katpat.device !== null\n})\n\nexport default connect(mapStateToProps)(BleProtectedRoute)","import React from 'react'\nimport { Route, BrowserRouter, Switch, Redirect } from 'react-router-dom'\nimport Home from 'containers/home'\nimport Play from 'containers/play'\nimport Calibrate from 'containers/calibrate'\nimport Studio from 'containers/studio'\nimport Layout from 'components/layout'\nimport BleProtectedRoute from 'components/ble-protected-route'\nimport { PlayIcon, CalibrateIcon, StudioIcon } from 'components/icons'\n\nconst Routes = () => (\n  <BrowserRouter basename={'/katpat/remote-controller'}>\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <BleProtectedRoute path=\"/play\" component={Play} title='PLAY' icon={ PlayIcon } />\n      <BleProtectedRoute path='/calibrate' component={Calibrate} title='CALIBRATE' icon={ CalibrateIcon } />\n      <Layout path=\"/studio\" component={Studio} title='STUDIO' icon={ StudioIcon } />\n      <Redirect to=\"/\" />\n    </Switch>\n  </BrowserRouter>\n)\n\nexport default Routes","import React from 'react'\nimport { Provider } from 'react-redux'\nimport configureStore from './redux/store'\nimport { actions as appActions } from 'redux/reducers/app'\nimport rootSaga from 'redux/sagas'\nimport Routes from './routes'\nimport { Plugins } from '@capacitor/core'\nconst { Device, SplashScreen, StatusBar } = Plugins\n\nconst store = configureStore()\nstore.runSaga(rootSaga)\n\nDevice.getInfo().then(({ platform }) => {\n  if (platform !== 'web') {\n    StatusBar.hide()\n    SplashScreen.hide()\n  }\n  store.dispatch(appActions.setupPlatform(platform))\n})\n\nconst App = () => (\n  <Provider store={store}>\n    <Routes />\n  </Provider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\nimport * as serviceWorker from './serviceWorker'\nimport 'semantic-ui-css/semantic.min.css'\nimport 'index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()","// source: http://stackoverflow.com/a/11058858\nexport const ab2str = (buf) => {\n  return String.fromCharCode.apply(null, new Uint8Array(buf));\n}\n\n/* string to arraybuffer (alphanumeric chars on one byte) */\nexport const str2ab = (str) => {\n  let buf = new ArrayBuffer(str.length)\n  let bufView = new Uint8Array(buf)\n  for (let i=0, strLen=str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i)\n  }\n  return buf\n}","// status\nexport const bleStatus = {\n  DISCONNECTED: 'DISCONNECTED',\n  SCANNING: 'SCANNING',\n  CONNECTING: 'CONNECTING',\n  CONNECTED: 'CONNECTED'\n}\n\n// katpat commands\nexport const commands = {\n  INIT: 'INIT'\n}\n\nexport const types = {\n  CONNECT: 'katpat/ble/CONNECT',\n  DISCONNECT: 'katpat/ble/DISCONNECT',\n  STATUS_UPDATE: 'katpat/ble/STATUS_UPDATE',\n  SEND: 'katpat/ble/SEND'\n}\n\nconst initialState = {\n  katpatName: 'Katpat', // HM10 module name\n  error: null,\n  status: bleStatus.DISCONNECTED,\n  device: null\n}\n\nexport default function katpatReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case types.STATUS_UPDATE: {\n      return {\n        ...state,\n        ...action.payload\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport const actions = {\n  connect: () => ({type: types.CONNECT}),\n  disconnect: () => ({type: types.DISCONNECT}),\n  updateStatus: (status, device=null, error=null) => ({type: types.STATUS_UPDATE, payload: {status, device, error}}),\n  send: (command) => ({type: types.SEND, payload: command})\n}\n\nexport const selectors = {\n  getStatus: (state) => state.katpat.status,\n  getDevice: (state) => state.katpat.device,\n  getKaptpatName: (state) => state.katpat.katpatName\n}"],"sourceRoot":""}